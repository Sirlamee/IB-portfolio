<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Scroll Fade Effect</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
        }

        /* Desktop - Normal scrolling */
        .section {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 600;
            border-bottom: 1px solid #eee;
        }

        /* Mobile only - Fade effect */
        @media (max-width: 499px) {
            body {
                height: 500vh; /* 5 sections worth of scroll space */
            }

            .section {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                opacity: 0;
                transition: opacity 0.5s ease;
            }

            .section.active {
                opacity: 1;
            }

            .section.fading {
                opacity: 0;
            }

            /* Stack order - higher numbers appear on top */
            .section:nth-child(1) { z-index: 1; }
            .section:nth-child(2) { z-index: 2; }
            .section:nth-child(3) { z-index: 3; }
            .section:nth-child(4) { z-index: 4; }
            .section:nth-child(5) { z-index: 5; }
        }
    </style>
</head>
<body>
    <div class="section active">
        <h1>Section 1 - Welcome</h1>
        <p>This is the first section with a lot more text content to see how the fade effect works with longer content. The mobile scroll fade effect should smoothly transition between sections as you scroll down. This section contains enough text to demonstrate how the layout behaves with multiple lines of content on different screen sizes.</p>
    </div>
    <div class="section">
        <h1>Section 2 - About</h1>
        <p>Here we have the second section which should fade in as you scroll past the first section. The effect only works on mobile devices with screen width less than 500px. On desktop, you'll see normal scrolling behavior. This text is longer to test how the sections handle different amounts of content and whether the fade transition remains smooth.</p>
    </div>
    <div class="section">
        <h1>Section 3 - Services</h1>
        <p>The third section continues our journey through the fade effect. Notice how each section covers the previous one completely due to the z-index stacking. The opacity transition should be smooth and pleasant to watch. We're adding more text here to ensure that the layout can handle varying content lengths without breaking the effect.</p>
    </div>
    <div class="section">
        <h1>Section 4 - Portfolio</h1>
        <p>Section four demonstrates that the effect works consistently regardless of content length. The key is that each section is positioned as fixed and stacked with increasing z-index values, so the higher numbered sections appear on top. This creates the covering effect where new sections slide over old ones as you scroll.</p>
    </div>
    <div class="section">
        <h1>Section 5 - Contact</h1>
        <p>Finally, we reach the last section. The fade effect should work perfectly throughout all five sections. The scroll calculation determines which section should be active based on the scroll percentage, and the opacity transitions create the smooth fade in and out effects. This longer text content helps us verify that the effect works well with realistic content amounts.</p>
    </div>

    <script>
        // Only run on mobile
        if (window.innerWidth < 500) {
            const sections = document.querySelectorAll('.section');
            let currentSection = 0;

            function updateSections() {
                const scrollPercent = window.scrollY / (document.body.scrollHeight - window.innerHeight);
                const newSection = Math.min(Math.floor(scrollPercent * sections.length), sections.length - 1);

                if (newSection !== currentSection) {
                    // Fade out current
                    sections[currentSection].classList.remove('active');
                    sections[currentSection].classList.add('fading');
                    
                    // Fade in new
                    currentSection = newSection;
                    sections[currentSection].classList.remove('fading');
                    sections[currentSection].classList.add('active');
                }
            }

            window.addEventListener('scroll', updateSections);
        }
    </script>
</body>
</html>